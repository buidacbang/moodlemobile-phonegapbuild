webpackJsonp([6],{1426:function(l,n,e){"use strict";function t(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"core-search-box",[["autocorrect","off"],["lengthCheck","2"],["spellcheck","false"]],null,[[null,"onSubmit"],[null,"onClear"]],function(l,n,e){var t=!0,u=l.component;if("onSubmit"===n){t=!1!==u.searchMessage(e)&&t}if("onClear"===n){t=!1!==u.clearSearch(e)&&t}return t},H.b,H.a)),M._2(1,114688,null,0,K.a,[Z.a,q.a],{placeholder:[0,"placeholder"],autocorrect:[1,"autocorrect"],spellcheck:[2,"spellcheck"],lengthCheck:[3,"lengthCheck"],disabled:[4,"disabled"]},{onSubmit:"onSubmit",onClear:"onClear"}),M._18(131072,z.a,[Z.a,M.g])],function(l,n){var e=n.component;l(n,1,0,M._26(n,1,0,M._15(n,2).transform("addon.messages.message")),"off","false","2",!e.loaded)},null)}function u(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"core-empty-box",[["icon","chatbubbles"]],null,null,null,B.b,B.a)),M._2(1,49152,null,0,Q.a,[],{message:[0,"message"],icon:[1,"icon"]},null),M._18(131072,z.a,[Z.a,M.g])],function(l,n){l(n,1,0,M._26(n,1,0,M._15(n,2).transform("addon.messages.nomessages")),"chatbubbles")},null)}function a(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"core-empty-box",[["icon","search"]],null,null,null,B.b,B.a)),M._2(1,49152,null,0,Q.a,[],{message:[0,"message"],icon:[1,"icon"]},null),M._18(131072,z.a,[Z.a,M.g])],function(l,n){l(n,1,0,M._26(n,1,0,M._15(n,2).transform("core.noresults")),"search")},null)}function s(l){return M._27(0,[(l()(),M._3(0,0,null,null,23,"ion-item",[["class","item item-block"],["detail-none",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.gotoDiscussion(l.context.$implicit.userid,l.context.$implicit.messageid)&&t}return t},X.b,X.a)),M._2(1,1097728,null,3,ll.a,[nl.a,el.a,M.l,M.C,[2,tl.a]],null,null),M._23(335544320,4,{contentLabel:0}),M._23(603979776,5,{_buttons:1}),M._23(603979776,6,{_icons:1}),M._2(5,16384,null,0,ul.a,[],null,null),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(7,0,null,0,7,"ion-avatar",[["item-start",""]],null,null,null,null,null)),M._2(8,16384,null,0,al.a,[],null,null),(l()(),M._25(-1,null,["\n                    "])),(l()(),M._3(10,0,null,null,3,"img",[["core-external-content",""],["onError","this.src='assets/img/user-avatar.png'"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),M._2(11,4210688,null,0,sl.a,[M.l,il.a,ol.a,rl.a,$.a,cl.a,_l.a,hl.a],null,null),M._19(12,{$a:0}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n                "])),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(16,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),M._3(17,0,null,null,1,"core-format-text",[],null,null,null,null,null)),M._2(18,540672,null,0,dl.a,[M.l,$.a,cl.a,fl.a,Z.a,rl.a,q.a,_l.a,il.a,ol.a,hl.a,gl.a,[2,ml.a],[2,pl.a]],{text:[0,"text"]},null),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(20,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),M._3(21,0,null,null,1,"core-format-text",[["clean","true"],["singleLine","true"]],null,null,null,null,null)),M._2(22,540672,null,0,dl.a,[M.l,$.a,cl.a,fl.a,Z.a,rl.a,q.a,_l.a,il.a,ol.a,hl.a,gl.a,[2,ml.a],[2,pl.a]],{text:[0,"text"],clean:[1,"clean"],singleLine:[2,"singleLine"]},null),(l()(),M._25(-1,2,["\n            "]))],function(l,n){l(n,18,0,n.context.$implicit.fullname);l(n,22,0,n.context.$implicit.lastmessage,"true","true")},function(l,n){l(n,0,0,n.context.$implicit.fullname,n.context.$implicit.userid==n.component.discussionUserId);l(n,10,0,M._6(1,"",n.context.$implicit.profileimageurl,""),M._26(n,10,1,M._15(n,13).transform("core.pictureof",l(n,12,0,n.context.$implicit.fullname))))})}function i(l){return M._27(0,[(l()(),M._3(0,0,null,null,21,"ion-list",[["no-margin",""]],null,null,null,null,null)),M._2(1,16384,null,0,bl.a,[el.a,M.l,M.C,rl.a,vl.l,xl.a],null,null),(l()(),M._25(-1,null,["\n            "])),(l()(),M._3(3,0,null,null,14,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,X.b,X.a)),M._2(4,1097728,null,3,ll.a,[nl.a,el.a,M.l,M.C,[2,tl.a]],{color:[0,"color"]},null),M._23(335544320,1,{contentLabel:0}),M._23(603979776,2,{_buttons:1}),M._23(603979776,3,{_icons:1}),M._2(8,16384,null,0,Il.a,[el.a,M.l,M.C],{color:[0,"color"]},null),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(10,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),M._25(11,null,["",""])),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(14,0,null,4,2,"ion-note",[["item-end",""]],null,null,null,null,null)),M._2(15,16384,null,0,Cl.a,[el.a,M.l,M.C],null,null),(l()(),M._25(16,null,["",""])),(l()(),M._25(-1,2,["\n            "])),(l()(),M._25(-1,null,["\n            "])),(l()(),M.Y(16777216,null,null,1,null,s)),M._2(20,802816,null,0,yl.j,[M.M,M.J,M.r],{ngForOf:[0,"ngForOf"]},null),(l()(),M._25(-1,null,["\n        "]))],function(l,n){var e=n.component;l(n,4,0,"light");l(n,8,0,"light");l(n,20,0,e.search.results)},function(l,n){var e=n.component;l(n,11,0,M._26(n,11,0,M._15(n,12).transform("core.searchresults")));l(n,16,0,e.search.results.length)})}function o(l){return M._27(0,[(l()(),M._3(0,0,null,null,0,"span",[["class","core-primary-circle"]],null,null,null,null,null))],null,null)}function r(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),M._25(1,null,["",""])),M._20(2,1)],null,function(l,n){l(n,1,0,M._26(n,1,0,l(n,2,0,M._15(n.parent.parent.parent.parent,0),n.parent.parent.context.$implicit.message.timecreated/1e3)))})}function c(l){return M._27(0,[(l()(),M._3(0,0,null,null,8,"ion-note",[],null,null,null,null,null)),M._2(1,16384,null,0,Cl.a,[el.a,M.l,M.C],null,null),(l()(),M._25(-1,null,["\n                        "])),(l()(),M.Y(16777216,null,null,1,null,o)),M._2(4,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,null,["\n                        "])),(l()(),M.Y(16777216,null,null,1,null,r)),M._2(7,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,null,["\n                    "]))],function(l,n){l(n,4,0,n.parent.context.$implicit.unread);l(n,7,0,n.parent.context.$implicit.message.timecreated>0)},null)}function _(l){return M._27(0,[(l()(),M._3(0,0,null,null,28,"ion-item",[["class","item item-block"],["detail-none",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.gotoDiscussion(l.context.$implicit.message.user)&&t}return t},X.b,X.a)),M._2(1,1097728,null,3,ll.a,[nl.a,el.a,M.l,M.C,[2,tl.a]],null,null),M._23(335544320,7,{contentLabel:0}),M._23(603979776,8,{_buttons:1}),M._23(603979776,9,{_icons:1}),M._2(5,16384,null,0,ul.a,[],null,null),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(7,0,null,0,7,"ion-avatar",[["item-start",""]],null,null,null,null,null)),M._2(8,16384,null,0,al.a,[],null,null),(l()(),M._25(-1,null,["\n                    "])),(l()(),M._3(10,0,null,null,3,"img",[["core-external-content",""],["onError","this.src='assets/img/user-avatar.png'"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),M._2(11,4210688,null,0,sl.a,[M.l,il.a,ol.a,rl.a,$.a,cl.a,_l.a,hl.a],null,null),M._19(12,{$a:0}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n                "])),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(16,0,null,2,7,"h2",[],null,null,null,null,null)),(l()(),M._25(-1,null,["\n                    "])),(l()(),M._3(18,0,null,null,1,"core-format-text",[],null,null,null,null,null)),M._2(19,540672,null,0,dl.a,[M.l,$.a,cl.a,fl.a,Z.a,rl.a,q.a,_l.a,il.a,ol.a,hl.a,gl.a,[2,ml.a],[2,pl.a]],{text:[0,"text"]},null),(l()(),M._25(-1,null,["\n                    "])),(l()(),M.Y(16777216,null,null,1,null,c)),M._2(22,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,null,["\n                "])),(l()(),M._25(-1,2,["\n                "])),(l()(),M._3(25,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),M._3(26,0,null,null,1,"core-format-text",[["clean","true"],["singleLine","true"]],null,null,null,null,null)),M._2(27,540672,null,0,dl.a,[M.l,$.a,cl.a,fl.a,Z.a,rl.a,q.a,_l.a,il.a,ol.a,hl.a,gl.a,[2,ml.a],[2,pl.a]],{text:[0,"text"],clean:[1,"clean"],singleLine:[2,"singleLine"]},null),(l()(),M._25(-1,2,["\n            "]))],function(l,n){l(n,19,0,n.context.$implicit.fullname);l(n,22,0,n.context.$implicit.message.timecreated>0||n.context.$implicit.unread);l(n,27,0,n.context.$implicit.message.message,"true","true")},function(l,n){l(n,0,0,n.context.$implicit.fullname,n.context.$implicit.message.user==n.component.discussionUserId);l(n,10,0,M._6(1,"",n.context.$implicit.profileimageurl,""),M._26(n,10,1,M._15(n,13).transform("core.pictureof",l(n,12,0,n.context.$implicit.fullname))))})}function h(l){return M._27(0,[(l()(),M._3(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),M._2(1,16384,null,0,bl.a,[el.a,M.l,M.C,rl.a,vl.l,xl.a],null,null),(l()(),M._25(-1,null,["\n            "])),(l()(),M.Y(16777216,null,null,1,null,_)),M._2(4,802816,null,0,yl.j,[M.M,M.J,M.r],{ngForOf:[0,"ngForOf"]},null),(l()(),M._25(-1,null,["\n        "]))],function(l,n){l(n,4,0,n.component.discussions)},null)}function d(l){return M._27(0,[M._18(0,Ml.a,[il.a,Z.a]),(l()(),M._3(1,0,null,null,29,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Sl.b,Sl.a)),M._2(2,4374528,null,0,pl.a,[el.a,rl.a,xl.a,M.l,M.C,Dl.a,$l.a,M.x,[2,kl.a],[2,ml.a]],null,null),(l()(),M._25(-1,1,["\n    "])),(l()(),M._3(4,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(l,n,e){var t=!0;if("ionRefresh"===n){t=!1!==l.component.refreshData(e)&&t}return t},null,null)),M._2(5,212992,null,0,wl.a,[rl.a,pl.a,M.x,vl.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(l()(),M._25(-1,null,["\n        "])),(l()(),M._3(7,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Ol.b,Ol.a)),M._2(8,114688,null,0,El.a,[wl.a,el.a],{pullingText:[0,"pullingText"]},null),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n    "])),(l()(),M._25(-1,1,["\n\n    "])),(l()(),M.Y(16777216,null,1,1,null,t)),M._2(13,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,1,["\n\n    "])),(l()(),M._3(15,0,null,1,14,"core-loading",[],null,null,null,Ul.b,Ul.a)),M._2(16,638976,null,0,Pl.a,[Z.a,M.l],{hideUntil:[0,"hideUntil"],message:[1,"message"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,u)),M._2(19,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,a)),M._2(22,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,i)),M._2(25,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,h)),M._2(28,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n    "])),(l()(),M._25(-1,1,["\n"])),(l()(),M._25(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,5,0,e.loaded);l(n,8,0,M._6(1,"",M._26(n,8,0,M._15(n,9).transform("core.pulltorefresh")),""));l(n,13,0,e.search.enabled);l(n,16,0,e.loaded,e.loadingMessage);l(n,19,0,(!e.discussions||e.discussions.length<=0)&&!e.search.showResults);l(n,22,0,(!e.search.results||e.search.results.length<=0)&&e.search.showResults);l(n,25,0,e.search.showResults);l(n,28,0,!e.search.showResults)},function(l,n){l(n,1,0,M._15(n,2).statusbarPadding,M._15(n,2)._hasRefresher);l(n,4,0,"inactive"!==M._15(n,5).state,M._15(n,5)._top);l(n,7,0,M._15(n,8).r.state)})}function f(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"core-empty-box",[["icon","person"]],null,null,null,B.b,B.a)),M._2(1,49152,null,0,Q.a,[],{message:[0,"message"],icon:[1,"icon"]},null),M._18(131072,z.a,[Z.a,M.g])],function(l,n){l(n,1,0,M._26(n,1,0,M._15(n,2).transform("addon.messages.contactlistempty")),"person")},null)}function g(l){return M._27(0,[(l()(),M._3(0,0,null,null,2,"core-empty-box",[["icon","person"]],null,null,null,B.b,B.a)),M._2(1,49152,null,0,Q.a,[],{message:[0,"message"],icon:[1,"icon"]},null),M._18(131072,z.a,[Z.a,M.g])],function(l,n){l(n,1,0,M._26(n,1,0,M._15(n,2).transform("addon.messages.nousersfound")),"person")},null)}function m(l){return M._27(0,[(l()(),M._3(0,0,null,null,19,"ion-item",[["class","item item-block"],["detail-none",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.gotoDiscussion(l.parent.context.$implicit.id)&&t}return t},X.b,X.a)),M._2(1,1097728,null,3,ll.a,[nl.a,el.a,M.l,M.C,[2,tl.a]],null,null),M._23(335544320,4,{contentLabel:0}),M._23(603979776,5,{_buttons:1}),M._23(603979776,6,{_icons:1}),M._2(5,16384,null,0,ul.a,[],null,null),(l()(),M._25(-1,2,["\n                        "])),(l()(),M._3(7,0,null,0,7,"ion-avatar",[["item-start",""]],null,null,null,null,null)),M._2(8,16384,null,0,al.a,[],null,null),(l()(),M._25(-1,null,["\n                            "])),(l()(),M._3(10,0,null,null,3,"img",[["core-external-content",""],["onError","this.src='assets/img/user-avatar.png'"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),M._2(11,4210688,null,0,sl.a,[M.l,il.a,ol.a,rl.a,$.a,cl.a,_l.a,hl.a],null,null),M._19(12,{$a:0}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n                        "])),(l()(),M._25(-1,2,["\n                        "])),(l()(),M._3(16,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),M._3(17,0,null,null,1,"core-format-text",[],null,null,null,null,null)),M._2(18,540672,null,0,dl.a,[M.l,$.a,cl.a,fl.a,Z.a,rl.a,q.a,_l.a,il.a,ol.a,hl.a,gl.a,[2,ml.a],[2,pl.a]],{text:[0,"text"]},null),(l()(),M._25(-1,2,["\n                    "]))],function(l,n){l(n,18,0,n.parent.context.$implicit.fullname)},function(l,n){l(n,0,0,n.parent.context.$implicit.fullname,n.parent.context.$implicit.id==n.component.discussionUserId);l(n,10,0,M._6(1,"",n.parent.context.$implicit.profileimageurl||n.parent.context.$implicit.profileimageurlsmall,""),M._26(n,10,1,M._15(n,13).transform("core.pictureof",l(n,12,0,n.parent.context.$implicit.fullname))))})}function p(l){return M._27(0,[(l()(),M._3(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),M._25(-1,null,["\n                    "])),(l()(),M._25(-1,null,["\n                    "])),(l()(),M.Y(16777216,null,null,1,null,m)),M._2(4,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,null,["\n                "]))],function(l,n){l(n,4,0,n.context.$implicit.profileimageurl||n.context.$implicit.profileimageurlsmall)},null)}function b(l){return M._27(0,[(l()(),M._3(0,0,null,null,20,null,null,null,null,null,null,null)),(l()(),M._25(-1,null,["\n                "])),(l()(),M._3(2,0,null,null,14,"ion-item-divider",[["class","item item-divider"],["color","light"]],null,null,null,X.b,X.a)),M._2(3,1097728,null,3,ll.a,[nl.a,el.a,M.l,M.C,[2,tl.a]],{color:[0,"color"]},null),M._23(335544320,1,{contentLabel:0}),M._23(603979776,2,{_buttons:1}),M._23(603979776,3,{_icons:1}),M._2(7,16384,null,0,Il.a,[el.a,M.l,M.C],{color:[0,"color"]},null),(l()(),M._25(-1,2,["\n                    "])),(l()(),M._3(9,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),M._25(10,null,["",""])),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,2,["\n                    "])),(l()(),M._3(13,0,null,4,2,"ion-note",[["item-end",""]],null,null,null,null,null)),M._2(14,16384,null,0,Cl.a,[el.a,M.l,M.C],null,null),(l()(),M._25(15,null,["",""])),(l()(),M._25(-1,2,["\n                "])),(l()(),M._25(-1,null,["\n                "])),(l()(),M.Y(16777216,null,null,1,null,p)),M._2(19,802816,null,0,yl.j,[M.M,M.J,M.r],{ngForOf:[0,"ngForOf"]},null),(l()(),M._25(-1,null,["\n            "]))],function(l,n){var e=n.component;l(n,3,0,"light");l(n,7,0,"light");l(n,19,0,e.contacts[n.parent.context.$implicit])},function(l,n){var e=n.component;l(n,10,0,M._26(n,10,0,M._15(n,11).transform("addon.messages.type_"+n.parent.context.$implicit)));l(n,15,0,e.contacts[n.parent.context.$implicit].length)})}function v(l){return M._27(0,[(l()(),M._3(0,0,null,null,5,"ion-list",[["no-margin",""]],null,null,null,null,null)),M._2(1,16384,null,0,bl.a,[el.a,M.l,M.C,rl.a,vl.l,xl.a],null,null),(l()(),M._25(-1,null,["\n            "])),(l()(),M.Y(16777216,null,null,1,null,b)),M._2(4,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,null,["\n        "]))],function(l,n){var e=n.component;l(n,4,0,e.contacts[n.context.$implicit]&&(e.contacts[n.context.$implicit].length>0||n.context.$implicit===e.searchType))},null)}function x(l){return M._27(0,[(l()(),M._3(0,0,null,null,27,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Sl.b,Sl.a)),M._2(1,4374528,null,0,pl.a,[el.a,rl.a,xl.a,M.l,M.C,Dl.a,$l.a,M.x,[2,kl.a],[2,ml.a]],null,null),(l()(),M._25(-1,1,["\n    "])),(l()(),M._3(3,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(l,n,e){var t=!0;if("ionRefresh"===n){t=!1!==l.component.refreshData(e)&&t}return t},null,null)),M._2(4,212992,null,0,wl.a,[rl.a,pl.a,M.x,vl.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(l()(),M._25(-1,null,["\n        "])),(l()(),M._3(6,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,Ol.b,Ol.a)),M._2(7,114688,null,0,El.a,[wl.a,el.a],{pullingText:[0,"pullingText"]},null),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n    "])),(l()(),M._25(-1,1,["\n\n    "])),(l()(),M._3(11,0,null,1,2,"core-search-box",[["autocorrect","off"],["lengthCheck","2"],["spellcheck","false"]],null,[[null,"onSubmit"],[null,"onClear"]],function(l,n,e){var t=!0,u=l.component;if("onSubmit"===n){t=!1!==u.search(e)&&t}if("onClear"===n){t=!1!==u.clearSearch(e)&&t}return t},H.b,H.a)),M._2(12,114688,null,0,K.a,[Z.a,q.a],{placeholder:[0,"placeholder"],autocorrect:[1,"autocorrect"],spellcheck:[2,"spellcheck"],lengthCheck:[3,"lengthCheck"],disabled:[4,"disabled"]},{onSubmit:"onSubmit",onClear:"onClear"}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,1,["\n\n    "])),(l()(),M._3(15,0,null,1,11,"core-loading",[],null,null,null,Ul.b,Ul.a)),M._2(16,638976,null,0,Pl.a,[Z.a,M.l],{hideUntil:[0,"hideUntil"],message:[1,"message"]},null),(l()(),M._25(-1,0,["\n        "])),(l()(),M.Y(16777216,null,0,1,null,f)),M._2(19,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,g)),M._2(22,16384,null,0,yl.k,[M.M,M.J],{ngIf:[0,"ngIf"]},null),(l()(),M._25(-1,0,["\n\n        "])),(l()(),M.Y(16777216,null,0,1,null,v)),M._2(25,802816,null,0,yl.j,[M.M,M.J,M.r],{ngForOf:[0,"ngForOf"]},null),(l()(),M._25(-1,0,["\n    "])),(l()(),M._25(-1,1,["\n"])),(l()(),M._25(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,4,0,e.loaded);l(n,7,0,M._6(1,"",M._26(n,7,0,M._15(n,8).transform("core.pulltorefresh")),""));l(n,12,0,M._26(n,12,0,M._15(n,13).transform("addon.messages.contactname")),"off","false","2",!e.loaded);l(n,16,0,e.loaded,e.loadingMessage);l(n,19,0,!e.hasContacts&&""==e.searchString);l(n,22,0,!e.hasContacts&&""!=e.searchString);l(n,25,0,e.contactTypes)},function(l,n){l(n,0,0,M._15(n,1).statusbarPadding,M._15(n,1)._hasRefresher);l(n,3,0,"inactive"!==M._15(n,4).state,M._15(n,4)._top);l(n,6,0,M._15(n,7).r.state)})}function I(l){return M._27(0,[(l()(),M._25(-1,null,["\n                    "])),(l()(),M._3(1,0,null,null,1,"addon-messages-discussions",[],null,null,null,d,Yl)),M._2(2,245760,null,0,Rl.a,[D.a,$.a,Z.a,k.a,cl.a,Tl.a,hl.a,rl.a,q.a,Ll.a],null,null),(l()(),M._25(-1,null,["\n                "]))],function(l,n){l(n,2,0)},null)}function C(l){return M._27(0,[(l()(),M._25(-1,null,["\n                    "])),(l()(),M._3(1,0,null,null,1,"addon-messages-contacts",[],null,null,null,x,Vl)),M._2(2,114688,null,0,Jl.a,[$.a,Z.a,hl.a,k.a,cl.a,Tl.a,D.a],null,null),(l()(),M._25(-1,null,["\n                "]))],function(l,n){l(n,2,0)},null)}function y(l){return M._27(0,[M._23(402653184,1,{splitviewCtrl:0}),(l()(),M._3(1,0,null,null,15,"ion-header",[],null,null,null,null,null)),M._2(2,16384,null,0,Al.a,[el.a,M.l,M.C,[2,kl.a]],null,null),(l()(),M._25(-1,null,["\n    "])),(l()(),M._3(4,0,null,null,11,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Nl.b,Nl.a)),M._2(5,49152,null,0,Fl.a,[Dl.a,[2,kl.a],[2,ml.a],el.a,M.l,M.C],null,null),(l()(),M._25(-1,3,["\n        "])),(l()(),M._3(7,0,null,3,3,"ion-title",[],null,null,null,Wl.b,Wl.a)),M._2(8,49152,null,0,jl.a,[el.a,M.l,M.C,[2,Gl.a],[2,Fl.a]],null,null),(l()(),M._25(9,0,["",""])),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,3,["\n        "])),(l()(),M._3(12,0,null,2,2,"ion-buttons",[["end",""]],null,null,null,null,null)),M._2(13,16384,null,1,Hl.a,[el.a,M.l,M.C,[2,Gl.a],[2,Fl.a]],null,null),M._23(603979776,2,{_buttons:1}),(l()(),M._25(-1,3,["\n    "])),(l()(),M._25(-1,null,["\n"])),(l()(),M._25(-1,null,["\n"])),(l()(),M._3(18,0,null,null,28,"core-split-view",[],null,null,null,Kl.b,Kl.a)),M._2(19,114688,[[1,4]],0,w.a,[[2,ml.a],M.l],null,null),(l()(),M._25(-1,0,["\n    "])),(l()(),M._3(21,0,null,0,24,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Sl.b,Sl.a)),M._2(22,4374528,null,0,pl.a,[el.a,rl.a,xl.a,M.l,M.C,Dl.a,$l.a,M.x,[2,kl.a],[2,ml.a]],null,null),(l()(),M._25(-1,1,["\n        "])),(l()(),M._3(24,0,null,1,20,"core-tabs",[],null,null,null,Zl.b,Zl.a)),M._2(25,4833280,null,0,ql.a,[M.l,pl.a],null,null),(l()(),M._25(-1,0,["\n            "])),(l()(),M._3(27,0,null,0,7,"core-tab",[["icon","chatbubbles"]],null,null,null,zl.b,zl.a)),M._2(28,245760,null,2,Bl.a,[ql.a,M.l,cl.a],{title:[0,"title"],icon:[1,"icon"]},null),M._23(335544320,3,{template:0}),M._23(335544320,4,{scroll:0}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n                "])),(l()(),M.Y(0,[[3,2]],null,0,null,I)),(l()(),M._25(-1,null,["\n            "])),(l()(),M._25(-1,0,["\n            "])),(l()(),M._3(36,0,null,0,7,"core-tab",[["icon","person"]],null,null,null,zl.b,zl.a)),M._2(37,245760,null,2,Bl.a,[ql.a,M.l,cl.a],{title:[0,"title"],icon:[1,"icon"]},null),M._23(335544320,5,{template:0}),M._23(335544320,6,{scroll:0}),M._18(131072,z.a,[Z.a,M.g]),(l()(),M._25(-1,null,["\n                "])),(l()(),M.Y(0,[[5,2]],null,0,null,C)),(l()(),M._25(-1,null,["\n            "])),(l()(),M._25(-1,0,["\n        "])),(l()(),M._25(-1,1,["\n    "])),(l()(),M._25(-1,0,["\n"]))],function(l,n){l(n,19,0),l(n,25,0);l(n,28,0,M._26(n,28,0,M._15(n,31).transform("addon.messages.messages")),"chatbubbles");l(n,37,0,M._26(n,37,0,M._15(n,40).transform("addon.messages.contacts")),"person")},function(l,n){l(n,4,0,M._15(n,5)._hidden,M._15(n,5)._sbPadding);l(n,9,0,M._26(n,9,0,M._15(n,10).transform("addon.messages.messages")));l(n,21,0,M._15(n,22).statusbarPadding,M._15(n,22)._hasRefresher)})}Object.defineProperty(n,"__esModule",{value:!0});var M=e(1),S=(e(0),e(10),e(8)),D=e(22),$=e(2),k=e(151),w=e(129),O=function(){function l(l,n){var e=this;this.siteId=n.getCurrentSiteId(),this.loadSplitViewObserver=l.on(k.a.SPLIT_VIEW_LOAD_EVENT,function(l){!l.discussion||!e.splitviewCtrl.isOn()&&l.onlyWithSplitView||e.gotoDiscussion(l.discussion,l.message)},this.siteId)}return l.prototype.gotoDiscussion=function(l,n){var e={userId:l};n&&(e.message=n),this.splitviewCtrl.push("AddonMessagesDiscussionPage",e)},l.prototype.ngOnDestroy=function(){this.loadSplitViewObserver&&this.loadSplitViewObserver.off()},l}(),E=e(33),U=e(1532),P=function(){return function(){}}(),R=e(925),T=e(926),L=e(927),Y=e(928),J=e(929),V=e(930),A=e(931),N=e(932),F=e(933),W=e(936),j=e(937),G=e(938),H=e(969),K=e(403),Z=e(17),q=e(5),z=e(29),B=e(149),Q=e(130),X=e(34),ll=e(20),nl=e(19),el=e(4),tl=e(30),ul=e(32),al=e(182),sl=e(163),il=e(3),ol=e(16),rl=e(14),cl=e(7),_l=e(24),hl=e(13),dl=e(41),fl=e(11),gl=e(23),ml=e(21),pl=e(25),bl=e(76),vl=e(36),xl=e(26),Il=e(181),Cl=e(227),yl=e(9),Ml=e(401),Sl=e(180),Dl=e(28),$l=e(94),kl=e(35),wl=e(140),Ol=e(200),El=e(147),Ul=e(59),Pl=e(57),Rl=e(1533),Tl=e(55),Ll=e(208),Yl=M._1({encapsulation:2,styles:[],data:{}}),Jl=e(1534),Vl=M._1({encapsulation:2,styles:[],data:{}}),Al=e(391),Nl=e(934),Fl=e(179),Wl=e(935),jl=e(308),Gl=e(223),Hl=e(392),Kl=e(394),Zl=e(397),ql=e(167),zl=e(398),Bl=e(68),Ql=M._1({encapsulation:2,styles:[],data:{}}),Xl=M.Z("page-addon-messages-index",O,function(l){return M._27(0,[(l()(),M._3(0,0,null,null,1,"page-addon-messages-index",[],null,null,null,y,Ql)),M._2(1,180224,null,0,O,[D.a,$.a],null,null)],null,null)},{},{},[]),ln=e(18),nn=e(304),en=e(305),tn=e(307),un=e(306),an=e(390),sn=e(528),on=e(31),rn=e(119),cn=e(224);e.d(n,"AddonMessagesIndexPageModuleNgFactory",function(){return _n});var _n=M._0(P,[],function(l){return M._11([M._12(512,M.j,M.W,[[8,[R.a,T.a,L.a,Y.a,J.a,V.a,A.a,N.a,F.a,W.a,j.a,G.a,Xl]],[3,M.j],M.v]),M._12(4608,yl.m,yl.l,[M.t,[2,yl.v]]),M._12(4608,ln.x,ln.x,[]),M._12(4608,ln.d,ln.d,[]),M._12(4608,nn.b,nn.a,[]),M._12(4608,en.a,en.b,[]),M._12(4608,tn.b,tn.a,[]),M._12(4608,un.b,un.a,[]),M._12(4608,Z.a,Z.a,[an.a,nn.b,en.a,tn.b,un.b,Z.b,Z.c]),M._12(512,yl.b,yl.b,[]),M._12(512,ln.v,ln.v,[]),M._12(512,ln.i,ln.i,[]),M._12(512,ln.s,ln.s,[]),M._12(512,sn.a,sn.a,[]),M._12(512,S.a,S.a,[]),M._12(512,on.a,on.a,[]),M._12(512,rn.a,rn.a,[]),M._12(512,E.a,E.a,[]),M._12(512,U.a,U.a,[]),M._12(512,sn.b,sn.b,[]),M._12(512,P,P,[]),M._12(256,Z.c,void 0,[]),M._12(256,Z.b,void 0,[]),M._12(256,cn.a,O,[])])})},1532:function(l,n,e){"use strict";e.d(n,"a",function(){return t});e(0),e(10),e(8),e(33),e(31),e(119),e(1533),e(1534);var t=function(){return function(){}}()},1533:function(l,n,e){"use strict";e.d(n,"a",function(){return u});e(0),e(10),e(8),e(22),e(2);var t=e(151),u=(e(7),e(5),e(13),e(208),function(){function l(l,n,e,u,a,s,i,o,r,c){var _=this;this.eventsProvider=l,this.messagesProvider=u,this.domUtils=a,this.appProvider=i,this.loaded=!1,this.search={enabled:!1,showResults:!1,results:[],loading:"",text:""},this.search.loading=e.instant("core.searching"),this.loadingMessages=e.instant("core.loading"),this.siteId=n.getCurrentSiteId(),this.newMessagesObserver=l.on(t.a.NEW_MESSAGE_EVENT,function(l){if(l.userId){var n=_.discussions.find(function(n){return n.message.user==l.userId});void 0===n?(_.loaded=!1,_.refreshData().finally(function(){_.loaded=!0})):(n.message.message=l.message,n.message.timecreated=l.timecreated)}},this.siteId),this.readChangedObserver=l.on(t.a.READ_CHANGED_EVENT,function(l){if(l.userId){var n=_.discussions.find(function(n){return n.message.user==l.userId});void 0!==n&&(n.unread=!1,_.messagesProvider.invalidateDiscussionsCache())}},this.siteId),this.cronObserver=l.on(t.a.READ_CRON_EVENT,function(l){_.refreshData()},this.siteId),this.appResumeSubscription=o.resume.subscribe(function(){_.loaded&&(_.loaded=!1,_.refreshData())}),this.discussionUserId=s.get("discussionUserId")||!1,this.pushObserver=c.on("receive").subscribe(function(l){r.isFalseOrZero(l.notif)&&l.site==_.siteId&&_.refreshData()})}return l.prototype.ngOnInit=function(){var l=this;this.discussionUserId&&this.gotoDiscussion(this.discussionUserId),this.fetchData().then(function(){!l.discussionUserId&&l.discussions.length>0&&l.gotoDiscussion(l.discussions[0].message.user,void 0,!0)})},l.prototype.refreshData=function(l){var n=this;return this.messagesProvider.invalidateDiscussionsCache().then(function(){return n.fetchData().finally(function(){l&&(n.eventsProvider.trigger(t.a.READ_CHANGED_EVENT,void 0,n.siteId),l.complete())})})},l.prototype.fetchData=function(){var l=this;return this.loadingMessage=this.loadingMessages,this.search.enabled=this.messagesProvider.isSearchMessagesEnabled(),this.messagesProvider.getDiscussions().then(function(n){var e=[];for(var t in n)n[t].unread=!!n[t].unread,e.push(n[t]);l.discussions=e.sort(function(l,n){return n.message.timecreated-l.message.timecreated})}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.messages.errorwhileretrievingdiscussions",!0)}).finally(function(){l.loaded=!0})},l.prototype.clearSearch=function(){var l=this;this.loaded=!1,this.search.showResults=!1,this.search.text="",this.fetchData().finally(function(){l.loaded=!0})},l.prototype.searchMessage=function(l){var n=this;return this.appProvider.closeKeyboard(),this.loaded=!1,this.loadingMessage=this.search.loading,this.messagesProvider.searchMessages(l).then(function(l){n.search.showResults=!0,n.search.results=l}).catch(function(l){n.domUtils.showErrorModalDefault(l,"addon.messages.errorwhileretrievingmessages",!0)}).finally(function(){n.loaded=!0})},l.prototype.gotoDiscussion=function(l,n,e){void 0===e&&(e=!1),this.discussionUserId=l;var u={discussion:l,onlyWithSplitView:e};n&&(u.message=n),this.eventsProvider.trigger(t.a.SPLIT_VIEW_LOAD_EVENT,u,this.siteId)},l.prototype.ngOnDestroy=function(){this.newMessagesObserver&&this.newMessagesObserver.off(),this.readChangedObserver&&this.readChangedObserver.off(),this.cronObserver&&this.cronObserver.off(),this.appResumeSubscription&&this.appResumeSubscription.unsubscribe(),this.pushObserver&&this.pushObserver.unsubscribe()},l}())},1534:function(l,n,e){"use strict";e.d(n,"a",function(){return u});e(0),e(10),e(8),e(2);var t=e(151),u=(e(7),e(13),e(22),function(){function l(l,n,e,t,u,a,s){this.appProvider=e,this.messagesProvider=t,this.domUtils=u,this.eventsProvider=s,this.noSearchTypes=["online","offline","blocked","strangers"],this.loaded=!1,this.contactTypes=this.noSearchTypes,this.searchType="search",this.loadingMessage="",this.hasContacts=!1,this.contacts={search:[]},this.searchString="",this.currentUserId=l.getCurrentSiteUserId(),this.siteId=l.getCurrentSiteId(),this.searchingMessages=n.instant("core.searching"),this.loadingMessages=n.instant("core.loading"),this.loadingMessage=this.loadingMessages,this.discussionUserId=a.get("discussionUserId")||!1}return l.prototype.ngOnInit=function(){var l=this;this.discussionUserId&&this.gotoDiscussion(this.discussionUserId),this.fetchData().then(function(){if(!l.discussionUserId&&l.hasContacts){var n=void 0;for(var e in l.contacts)if(l.contacts[e].length>0){n=l.contacts[e][0];break}n&&l.gotoDiscussion(n.id,!0)}}).finally(function(){l.loaded=!0})},l.prototype.refreshData=function(l){var n=this;return(this.searchString?this.performSearch(this.searchString):this.messagesProvider.invalidateAllContactsCache(this.currentUserId).then(function(){return n.fetchData()})).finally(function(){l.complete()})},l.prototype.fetchData=function(){var l=this;return this.loadingMessage=this.loadingMessages,this.messagesProvider.getAllContacts().then(function(n){for(var e in n)l.contacts[e]=n[e].length>0?l.sortUsers(n[e]):[];l.clearSearch()}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.messages.errorwhileretrievingcontacts",!0)})},l.prototype.sortUsers=function(l){return l.sort(function(l,n){var e=l.fullname.toLowerCase(),t=n.fullname.toLowerCase();return e.localeCompare(t)})},l.prototype.clearSearch=function(){this.searchString="",this.contactTypes=this.noSearchTypes,this.hasContacts=!1;for(var l in this.contacts)if(this.contacts[l].length>0)return void(this.hasContacts=!0)},l.prototype.search=function(l){var n=this;return this.appProvider.closeKeyboard(),this.loaded=!1,this.loadingMessage=this.searchingMessages,this.performSearch(l).finally(function(){n.loaded=!0})},l.prototype.performSearch=function(l){var n=this;return this.messagesProvider.searchContacts(l).then(function(e){n.hasContacts=e.length>0,n.searchString=l,n.contactTypes=["search"],n.contacts.search=n.sortUsers(e)}).catch(function(l){n.domUtils.showErrorModalDefault(l,"addon.messages.errorwhileretrievingcontacts",!0)})},l.prototype.gotoDiscussion=function(l,n){void 0===n&&(n=!1),this.discussionUserId=l;this.eventsProvider.trigger(t.a.SPLIT_VIEW_LOAD_EVENT,{discussion:l,onlyWithSplitView:n},this.siteId)},l}())}});