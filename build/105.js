webpackJsonp([105],{1417:function(n,l,e){"use strict";function t(n){return o._27(0,[(n()(),o._3(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),o._2(1,16384,null,0,L.a,[j.a,o.l,o.C],{color:[0,"color"]},null),(n()(),o._25(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetency.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetency.gradename)})}function u(n){return o._27(0,[(n()(),o._3(0,0,null,null,2,"ion-badge",[["item-end",""]],null,null,null,null,null)),o._2(1,16384,null,0,L.a,[j.a,o.l,o.C],{color:[0,"color"]},null),(n()(),o._25(2,null,["",""]))],function(n,l){n(l,1,0,l.parent.context.$implicit.usercompetencycourse.proficiency?"success":"danger")},function(n,l){n(l,2,0,l.parent.context.$implicit.usercompetencycourse.gradename)})}function c(n){return o._27(0,[(n()(),o._3(0,0,null,null,15,"a",[["class","item item-block"],["ion-item",""],["text-wrap",""]],[[8,"title",0],[2,"core-split-item-selected",null]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==n.component.openCompetency(n.context.$implicit.competency.id)&&t}return t},k.b,k.a)),o._2(1,1097728,null,3,M.a,[R.a,j.a,o.l,o.C,[2,J.a]],null,null),o._23(335544320,2,{contentLabel:0}),o._23(603979776,3,{_buttons:1}),o._23(603979776,4,{_icons:1}),o._2(5,16384,null,0,O.a,[],null,null),(n()(),o._25(6,2,["\n                    "," "])),(n()(),o._3(7,0,null,2,1,"small",[],null,null,null,null,null)),(n()(),o._25(8,null,["",""])),(n()(),o._25(-1,2,["\n                    "])),(n()(),o.Y(16777216,null,4,1,null,t)),o._2(11,16384,null,0,U.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o._25(-1,2,["\n                    "])),(n()(),o.Y(16777216,null,4,1,null,u)),o._2(14,16384,null,0,U.k,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o._25(-1,2,["\n                "]))],function(n,l){n(l,11,0,l.context.$implicit.usercompetency);n(l,14,0,l.context.$implicit.usercompetencycourse)},function(n,l){n(l,0,0,l.context.$implicit.competency.shortname,l.context.$implicit.competency.id==l.component.competencyId);n(l,6,0,l.context.$implicit.competency.shortname);n(l,8,0,l.context.$implicit.competency.idnumber)})}function i(n){return o._27(0,[o._23(402653184,1,{splitviewCtrl:0}),(n()(),o._3(1,0,null,null,10,"ion-header",[],null,null,null,null,null)),o._2(2,16384,null,0,F.a,[j.a,o.l,o.C,[2,Y.a]],null,null),(n()(),o._25(-1,null,["\n    "])),(n()(),o._3(4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,A.b,A.a)),o._2(5,49152,null,0,D.a,[E.a,[2,Y.a],[2,T.a],j.a,o.l,o.C],null,null),(n()(),o._25(-1,3,["\n        "])),(n()(),o._3(7,0,null,3,2,"ion-title",[],null,null,null,N.b,N.a)),o._2(8,49152,null,0,V.a,[j.a,o.l,o.C,[2,W.a],[2,D.a]],null,null),(n()(),o._25(9,0,["",""])),(n()(),o._25(-1,3,["\n    "])),(n()(),o._25(-1,null,["\n"])),(n()(),o._25(-1,null,["\n"])),(n()(),o._3(13,0,null,null,25,"core-split-view",[],null,null,null,Z.b,Z.a)),o._2(14,114688,[[1,4]],0,p.a,[[2,T.a],o.l],null,null),(n()(),o._25(-1,0,["\n    "])),(n()(),o._3(16,0,null,0,21,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,q.b,q.a)),o._2(17,4374528,null,0,z.a,[j.a,B.a,G.a,o.l,o.C,E.a,H.a,o.x,[2,Y.a],[2,T.a]],null,null),(n()(),o._25(-1,1,["\n        "])),(n()(),o._3(19,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(n,l,e){var t=!0;if("ionRefresh"===l){t=!1!==n.component.refreshCompetencies(e)&&t}return t},null,null)),o._2(20,212992,null,0,K.a,[B.a,z.a,o.x,Q.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(n()(),o._25(-1,null,["\n            "])),(n()(),o._3(22,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,S.b,S.a)),o._2(23,114688,null,0,X.a,[K.a,j.a],{pullingText:[0,"pullingText"]},null),o._18(131072,nn.a,[ln.a,o.g]),(n()(),o._25(-1,null,["\n        "])),(n()(),o._25(-1,1,["\n        "])),(n()(),o._3(27,0,null,1,9,"core-loading",[],null,null,null,en.b,en.a)),o._2(28,638976,null,0,tn.a,[ln.a,o.l],{hideUntil:[0,"hideUntil"]},null),(n()(),o._25(-1,0,["\n            "])),(n()(),o._3(30,0,null,0,5,"ion-list",[],null,null,null,null,null)),o._2(31,16384,null,0,un.a,[j.a,o.l,o.C,B.a,Q.l,G.a],null,null),(n()(),o._25(-1,null,["\n                "])),(n()(),o.Y(16777216,null,null,1,null,c)),o._2(34,802816,null,0,U.j,[o.M,o.J,o.r],{ngForOf:[0,"ngForOf"]},null),(n()(),o._25(-1,null,["\n            "])),(n()(),o._25(-1,0,["\n        "])),(n()(),o._25(-1,1,["\n    "])),(n()(),o._25(-1,0,["\n"]))],function(n,l){var e=l.component;n(l,14,0);n(l,20,0,e.competenciesLoaded);n(l,23,0,o._6(1,"",o._26(l,23,0,o._15(l,24).transform("core.pulltorefresh")),""));n(l,28,0,e.competenciesLoaded);n(l,34,0,e.competencies)},function(n,l){var e=l.component;n(l,4,0,o._15(l,5)._hidden,o._15(l,5)._sbPadding);n(l,9,0,e.title);n(l,16,0,o._15(l,17).statusbarPadding,o._15(l,17)._hasRefresher);n(l,19,0,"inactive"!==o._15(l,20).state,o._15(l,20)._top);n(l,22,0,o._15(l,23).r.state)})}Object.defineProperty(l,"__esModule",{value:!0});var o=e(1),a=(e(0),e(10),e(8)),r=e(33),s=e(7),p=e(129),_=e(204),d=function(){function n(n,l,e,t){this.translate=l,this.domUtils=e,this.competencyProvider=t,this.competenciesLoaded=!1,this.competencies=[],this.planId=n.get("planId"),this.courseId=n.get("courseId"),this.competencyId=n.get("competencyId"),this.userId=n.get("userId")}return n.prototype.ionViewDidLoad=function(){var n=this;this.competencyId&&this.openCompetency(this.competencyId),this.fetchCompetencies().then(function(){!n.competencyId&&n.splitviewCtrl.isOn()&&n.competencies.length>0&&n.openCompetency(n.competencies[0].id)}).finally(function(){n.competenciesLoaded=!0})},n.prototype.fetchCompetencies=function(){var n=this;return(this.planId?this.competencyProvider.getLearningPlan(this.planId):this.courseId?this.competencyProvider.getCourseCompetencies(this.courseId,this.userId):Promise.reject(null)).then(function(l){if(l.competencycount<=0)return Promise.reject(n.translate.instant("addon.competency.errornocompetenciesfound"));n.planId?(n.title=l.plan.name,n.userId=l.plan.userid):n.title=n.translate.instant("addon.competency.coursecompetencies"),n.competencies=l.competencies}).catch(function(l){n.domUtils.showErrorModalDefault(l,"Error getting competencies data.")})},n.prototype.openCompetency=function(n){this.competencyId=n;this.splitviewCtrl.push("AddonCompetencyCompetencyPage",this.planId?{competencyId:n,planId:this.planId}:{competencyId:n,courseId:this.courseId,userId:this.userId})},n.prototype.refreshCompetencies=function(n){var l=this;return(this.planId?this.competencyProvider.invalidateLearningPlan(this.planId):this.competencyProvider.invalidateCourseCompetencies(this.courseId,this.userId)).finally(function(){l.fetchCompetencies().finally(function(){n.complete()})})},n}(),m=function(){return function(){}}(),f=e(925),h=e(926),y=e(927),I=e(928),b=e(929),g=e(930),v=e(931),C=e(932),x=e(933),P=e(936),$=e(937),w=e(938),L=e(225),j=e(4),k=e(34),M=e(20),R=e(19),J=e(30),O=e(32),U=e(9),F=e(391),Y=e(35),A=e(934),D=e(179),E=e(28),T=e(21),N=e(935),V=e(308),W=e(223),Z=e(394),q=e(180),z=e(25),B=e(14),G=e(26),H=e(94),K=e(140),Q=e(36),S=e(200),X=e(147),nn=e(29),ln=e(17),en=e(59),tn=e(57),un=e(76),cn=e(55),on=o._1({encapsulation:2,styles:[],data:{}}),an=o.Z("page-addon-competency-competencies",d,function(n){return o._27(0,[(n()(),o._3(0,0,null,null,1,"page-addon-competency-competencies",[],null,null,null,i,on)),o._2(1,49152,null,0,d,[cn.a,ln.a,s.a,_.a],null,null)],null,null)},{},{},[]),rn=e(18),sn=e(304),pn=e(305),_n=e(307),dn=e(306),mn=e(390),fn=e(528),hn=e(31),yn=e(119),In=e(224);e.d(l,"AddonCompetencyCompetenciesPageModuleNgFactory",function(){return bn});var bn=o._0(m,[],function(n){return o._11([o._12(512,o.j,o.W,[[8,[f.a,h.a,y.a,I.a,b.a,g.a,v.a,C.a,x.a,P.a,$.a,w.a,an]],[3,o.j],o.v]),o._12(4608,U.m,U.l,[o.t,[2,U.v]]),o._12(4608,rn.x,rn.x,[]),o._12(4608,rn.d,rn.d,[]),o._12(4608,sn.b,sn.a,[]),o._12(4608,pn.a,pn.b,[]),o._12(4608,_n.b,_n.a,[]),o._12(4608,dn.b,dn.a,[]),o._12(4608,ln.a,ln.a,[mn.a,sn.b,pn.a,_n.b,dn.b,ln.b,ln.c]),o._12(512,U.b,U.b,[]),o._12(512,rn.v,rn.v,[]),o._12(512,rn.i,rn.i,[]),o._12(512,rn.s,rn.s,[]),o._12(512,fn.a,fn.a,[]),o._12(512,a.a,a.a,[]),o._12(512,hn.a,hn.a,[]),o._12(512,yn.a,yn.a,[]),o._12(512,r.a,r.a,[]),o._12(512,fn.b,fn.b,[]),o._12(512,m,m,[]),o._12(256,ln.c,void 0,[]),o._12(256,ln.b,void 0,[]),o._12(256,In.a,d,[])])})}});